---
import { storyblokEditable } from "@storyblok/astro";

const { blok } = Astro.props;
---

<div class="imageteaser-item-inner" {...storyblokEditable(blok)}>
  {
    blok.image_type === "image" && (
      <div class="imageteaser-item-image">
        <img src={blok.image.filename} alt={blok.image.alt} />
      </div>
    )
  }

  {
    blok.image_type === "icon" && (
      <img
        class="imageteaser-item-icon"
        src={blok.image.filename}
        alt={blok.image.alt}
      />
    )
  }

  <div class="imageteaser-item-text">
    <span></span>
    <h4>{blok.headline}</h4>
    <p>{blok.content}</p>

    {
      blok?.link?.story && (
        <a href={blok.link.story.full_slug} class="imageteaser-item-arrow">
          {blok.link_text?blok.link_text:"Read more"}
        </a>
      )
    }
  </div>
</div>

<style scoped lang="scss">
  .imageteaser-item-inner {
    h4 {
      font-size: 1.8rem;
      line-height: 28px;
      margin-bottom: 8px;
      font-weight: 700;
      -webkit-hyphens: auto;
      -ms-hyphens: auto;
      hyphens: auto;
    }

    p {
      padding: 0 0 24px;
      font-weight: 400;
      font-size: 1.7rem;
      line-height: 2.7rem;
    }
  }

  .imageteaser-item-image {
    position: relative;
    width: 100%;

    &:after {
      content: "";
      display: block;
      width: 100%;
      height: 3px;
      background: #00ff91;
    }
  }

  .imageteaser-item-icon {
    width: 90px;
    height: auto;
  }

  .imageteaser-item-text {
    margin-top: 16px;
    vertical-align: baseline;

    span {
      font-size: 1.5rem;
      line-height: 2.2rem;
      display: inline-block;
      margin-bottom: 8px;
    }
  }

  .imageteaser-item-arrow {
    font-size: 1.6rem;
    line-height: 1.8rem;
    font-weight: 700;
  }
</style>
